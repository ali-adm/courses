# Directus
# [Руководство по быстрому запуску](https://docs.directus.io/getting-started/quickstart.html)
Это краткое руководство поможет вам запустить **проект Directus** за несколько минут. По ходу дела вы лучше поймёте, что такое Directus, настроите свой проект Directus локально или с помощью Directus Cloud и получите практическое представление о приложении и API.

<a a name="back"></a>
### Оглавление:
#### [1. Создайте проект](#1_create_proj)
#### [Быстрый запуск для самостоятельного размещения](#self_hosting_docker)
#### [2. Создайте коллекцию](#2_create_collect)
#### [Коллекции (Collections)](#collections)
####  [Элементы](#elements)
#### [Поля](#fields)
#### [Разрешения (Permissions)](#permissions)
#### [Модуль содержимого (Content module)](#content_module)
#### [Макеты (layouts)](#layouts)
#### [Страница коллекции](#collection_page)
#### [3. Создайте поле](#3_field_create)
#### [4. Создайте элемент](#4_el_create)
#### [5. Настройка ролей и разрешений](#5_access_setup)
#### [6. Подключение к API](#6_api_connect)
#### [ipsum](#lorem)
#### [ipsum](#lorem)
#### [ipsum](#lorem)

### [Назад к оглавлению](#back)



<a a name=""></a>
## 


<a a name="1_create_proj"></a>
## 1. Создайте проект
### Directus Cloud
1. Создайте свою учетную запись [Directus Cloud](https://directus.cloud/) и войдите в нее

При первом входе в учётную запись Directus Cloud вам будет предложено создать команду. Каждый проект Directus Cloud существует в рамках одной команды. Они позволяют организовывать работу участников команды, проектов и выставление счетов за проекты по желанию.

2. Создайте новый проект

После запуска создание облачного проекта займёт около 90 секунд. В течение этого времени на адрес электронной почты, связанный с вашей учётной записью Cloud, будет отправлена ссылка. В электронном письме будет указан URL вашего проекта, а также адрес электронной почты и пароль для входа. Если вы использовали GitHub для создания учётной записи, это будет ваш адрес электронной почты GitHub.

3. Получите доступ к вашему новому проекту

Войдите в свой новый проект, используя URL-адрес в папке «Входящие» вашего почтового ящика или на панели управления Directus Cloud.

Узнайте больше о проектах Directus Cloud в нашем [Руководстве пользователя](https://docs.directus.io/user-guide/cloud/projects.html).

### Установка Docker
1. Инициализируйте и запустите новый проект Directus

На вашем компьютере должен быть установлен и запущен Docker. Откройте свой терминал и выполните следующую команду:
```bash
docker run \
-p 8055:8055 \
-e SECRET=replace-with-secure-random-value \
directus/directus
```

2. Получите доступ к вашему новому проекту

Первоначальный адрес электронной почты администратора и пароль будут показаны в терминале. Теперь Directus должен быть доступен по адресу [http://localhost:8055](http://localhost:8055/) или http://127.0.0.1:8055.

Узнайте больше о самостоятельном хостинге Directus в нашей инструкции [по самостоятельному хостингу](#self_hosting_docker).

### Установка NPM
1. Инициализируйте новый проект Directus с помощью командной строки

Замените `<project-name>` именем, которое вы хотите использовать для каталога проекта.
```bash
npm init directus-project@latest <project-name>
```

Следуйте инструкциям, чтобы настроить базу данных и создать первого пользователя-администратора.

2. Начните свой новый проект

Выполните следующие команды, чтобы запустить новый проект локально:
```bash
cd <project-name>
npx directus start
```
Узнайте больше о самостоятельном хостинге Directus в нашем руководстве по [самостоятельному хостингу](https://docs.directus.io/self-hosted/cli.html).

> **Рекомендуется использовать Docker**
> 
> Хотя этот метод работает и поддерживается, он не рекомендуется. Docker устраняет особенности среды, которые могут привести к некорректной работе Directus в некоторых контекстах.
> 
> При запуске Directus без Docker могут возникать ошибки из-за особенностей среды. В таком случае убедитесь, что у вас установлены необходимые системные зависимости для `isolated-vm`, `sharp`, и `argon2`.

### [Назад к оглавлению](#back)


<a a name="self_hosting_docker"></a>
## Быстрый запуск для самостоятельного размещения
### Установить Docker
На вашем компьютере должен быть установлен и запущен Docker. Вы можете [скачать его здесь](https://docs.docker.com/get-docker/).

> **Что такое Docker?**
> 
> Docker — это инструмент для разработчиков, который позволяет создателям программного обеспечения распространять свои разработки вместе со всеми зависимостями и необходимыми настройками среды. Это означает, что приложения могут работать надёжно и стабильно, что делает Docker идеальным способом использования Directus как локально, так и в рабочей среде.
> 
> Как только появляются новые версии Directus, мы публикуем их на [Docker Hub](https://hub.docker.com/r/directus/directus).

### Создайте файл Docker Compose
Создайте на рабочем столе новую пустую папку под названием `directus`. Внутри этой новой папки создайте три пустые папки `database`, `uploads`, и `extensions`.

Откройте текстовый редактор, например Visual Studio Code, nano, Vim, TextEdit или Блокнот.

Скопируйте и вставьте следующее и сохраните файл как **docker-compose.yml**:
```yaml
version: "3"
services:
  directus:
    image: directus/directus:11.1.1
    ports:
      - 8055:8055
    volumes:
      - ./database:/directus/database
      - ./uploads:/directus/uploads
      - ./extensions:/directus/extensions
    environment:
      SECRET: "replace-with-secure-random-value"
      ADMIN_EMAIL: "admin@example.com"
      ADMIN_PASSWORD: "d1r3ctu5"
      DB_CLIENT: "sqlite3"
      DB_FILENAME: "/directus/database/data.db"
      WEBSOCKETS_ENABLED: "true"
```

Сохраните файл. Давайте пройдемся по нему пошагово:

- Этот файл определяет один контейнер Docker, который будет использовать указанную версию образа `directus/directus`.
- Список `ports` сопоставляет внутренний порт `8055` с нашим компьютером, используя тот же номер порта, то есть мы можем получить к нему доступ из браузера нашего компьютера.
- Раздел `volumes` сопоставляет внутренние данные `database`, `uploads` и exte`nsions с нашей локальной файловой системой, а также с `docker-compose.yml` — то есть данные хранятся и сохраняются за пределами контейнеров Docker.
- В `environment` разделе содержатся любые [переменные конфигурации (configuration variables)](https://docs.directus.io/self-hosted/config-options), которые мы хотим установить.
  - `SECRET` требуется и должно быть безопасным случайным значением, которое используется для подписи токенов.
  - `ADMIN_EMAIL` и `ADMIN_PASSWORD` - это исходные учетные данные администратора при первом запуске.
  - `DB_CLIENT` и `DB_FILENAME` определяют подключение к вашей базе данных.
  - `WEBSOCKETS_ENABLED` не требуется, но включает [Directus Realtime](https://docs.directus.io/guides/real-time/getting-started/).

Раздел «Тома» не является обязательным, но без него наша база данных и загруженные файлы будут удалены, когда контейнер Docker перестанет работать. Базой данных по умолчанию является SQLite — автономная бессерверная база данных, которая сохраняет данные в файл.

### Запустите Directus
Откройте терминал и выполните следующие команды по одной строке за раз:
```bash
cd Desktop/directus
docker compose up -d
```
Directus теперь должен быть доступен по адресу http://localhost:8055 или http://127.0.0.1:8055.

### [Назад к оглавлению](#back)


<a a name="2_create_collect"></a>
## 2. Создайте коллекцию

После входа в систему вам будет предложено создать свою первую [коллекцию](#collections).

1. Перейдите в [модуль содержимого (content module)](#content_module).
2. Нажмите **«Создать коллекцию»**, и появится боковое меню.
3. Введите имя.
Для этой демонстрации мы назовём его `articles`, но вы можете придумать своё!
4. Остальные параметры оставьте по умолчанию. Нажмите значок со стрелочкой и откроется меню "Дополнительные поля".
5. Пока оставьте значения в этом меню по умолчанию, отключив их. Вы сможете изменить их позже.
Нажмите значок галочки в заголовке меню.

### [Назад к оглавлению](#back)


<a a name="collections"></a>
## Коллекции (Collections)
**Коллекции** — это контейнеры для определённых типов элементов, которые содержат любое количество полей. Каждая коллекция представляет собой **таблицу** в вашей **базе данных**. По умолчанию [форматировщик заголовков](https://docs.directus.io/user-guide/overview/glossary.html#title-formatter) используется для отображения любых существующих названий таблиц базы данных в виде удобочитаемых заголовков коллекций. Существуют также «папки»-коллекции, которые [используются исключительно в организационных целях](https://docs.directus.io/app/data-model#sorting-grouping) и сами по себе не содержат никаких данных.

Коллекции могут быть организованы любым способом, подходящим для вашего проекта. Вы можете спроектировать их с учётом конкретной платформы (например, *страницы* веб-сайта) или без привязки к платформе (например, *клиенты* вашей компании). Хотя не существует правильного или неправильного способа структурировать модель данных, мы рекомендуем по возможности сохранять независимость данных, чтобы их было проще использовать в будущем. **Короче говоря, научитесь рассматривать свои данные как самостоятельный актив, а не только через призму текущих потребностей вашего проекта**.

Единственное требование к коллекции заключается в том, что она должна содержать поле [первичного ключа](#permissions). В этом поле хранится уникальное значение, которое используется для ссылки на элементы коллекции в базе данных/на платформе.

Соответствующие руководства
- [Создание коллекции](https://docs.directus.io/app/data-model.html#sorting-grouping)
- [Настройка коллекции]()
- [Удаление коллекции]()
- [Настройка макета коллекции]() 

### [Назад к оглавлению](#back)


<a a name="elements"></a>
## Элементы
**Элементы** — это объекты в составе коллекции, которые содержат значения для одного или нескольких [полей](#fields). Каждый элемент представляет собой **запись** в вашей **базе данных**.

Элементы — это основные строительные блоки контента вашего проекта. Подобно «строкам» в электронной таблице, все данные на платформе доступны через эти «атомарные» единицы данных. Сами по себе элементы довольно просты, однако их реальная сила заключается в сложности, которая начинает проявляться, когда элементы связаны друг с другом.

Элементы ссылаются (как индивидуально, так и в совокупности) на свой уникальный [первичный ключ](#permissions).

Соответствующие руководства:
- [Создание элемента]()
- [Архивирование элемента]()
- [Сортировка элементов вручную]()
- [Удаление элемента]()

### [Назад к оглавлению](#back)


<a a name="fields"></a>
## Поля
**Поля** — это особый тип значений в коллекции, в которых хранятся данные о содержимом вашего элемента. Каждое поле представляет собой **столбец** в вашей **базе данных**. 

Например, `articles` [коллекция](#collections) может содержать поля `title`, `body`, `author` и `date_published`. Поля отражают характеристики связанного с ними столбца, включая его `name`, `type`, `default`, `length`, `allow_null` и т. д.

Соответствующие руководства
- [Создание поля]()
- [Дублирующие поля]()
- [Корректировка расположения полей]()
- [Удаление полей]()

### [Назад к оглавлению](#back)

<a a name="permissions"></a>
## Разрешения (Permissions)
Разрешения привязываются непосредственно к политике и определяют, что пользователь может создавать, читать, обновлять и удалять на платформе. Эти разрешения на основе фильтров обеспечивают очень детальный контроль доступа ко всей системе.

### [Назад к оглавлению](#back)


<a a name="content_module"></a>
## Модуль содержимого (Content module)

**Модуль контента** — это основной способ взаимодействия пользователей с элементами в коллекции. Независимо от того, что содержит ваша модель данных *(будь то публикации в блоге, бронирование мероприятий, IoT-устройства, географические координаты, CRM или что-то ещё!)*, модуль контента позволяет просматривать и управлять данными, сортировать и искать их, а также импортировать и экспортировать.

>**Прежде чем вы начнете**
>
>Глубокое понимание [коллекций](#collections), [элементов](#elements) и [полей](#fields) поможет вам эффективно использовать модуль «Контент».

### Страница коллекции
![collect](https://cdn.directus.io/docs/v9/app-guide/content/content/content-20220415A/collection-page-20220415A.webp)

Модуль контента состоит из страниц коллекций и страниц элементов. Для перехода между коллекциями используйте панель навигации слева. 

На каждой странице коллекции отображаются все элементы коллекции, и она содержит настраиваемые [макеты](#layouts) для просмотра, визуализации и управления элементами. В заголовке страницы есть кнопки для сортировки, поиска, фильтрации, создания, редактирования, архивирования и удаления нескольких элементов. Чтобы узнать больше, ознакомьтесь с нашим руководством по [страницам коллекций](#collection_page).

> СОВЕТ
> 
> Модуль «Контент» помогает управлять элементами. Коллекции управляются в меню «Настройки», поскольку эти действия приводят к изменениям в модели данных. Чтобы узнать больше, ознакомьтесь с нашим руководством по [настройке модели данных]().

### Страница товара (item page)
![item](https://cdn.directus.io/docs/v9/app-guide/content/content/content-20220415A/item-page-20220215A.webp)

При нажатии на элемент на странице «Коллекция» откроется страница элемента. Страница элемента — это форма, которая позволяет просматривать, редактировать или удалять элемент и значения его полей. С помощью этой формы вы также можете комментировать, делиться, архивировать или возвращать элемент. Чтобы узнать больше, ознакомьтесь с нашим руководством по [странице элемента](https://docs.directus.io/user-guide/content-module/content/items).

### Общий доступ

В любом проекте некоторые коллекции будут иметь ограниченный доступ. В некоторых случаях вам может потребоваться поделиться одним из элементов коллекции с отдельным пользователем или группой пользователей, у которых еще нет доступа. В этом случае используйте общий доступ. Общий доступ позволяет поделиться элементом коллекции с любым пользователем, независимо от его прав, даже если он не является участником проекта. Чтобы узнать больше, ознакомьтесь с нашим руководством по [обмену данными](https://docs.directus.io/user-guide/content-module/content/shares).

### [Назад к оглавлению](#back)


<a a name="layouts"></a>
## Макеты (layouts)
Макет определяет, как вы просматриваете коллекцию или взаимодействуете с ней. В большинстве случаев он позволяет просматривать элементы на основе определенного типа данных, но также может использоваться для визуализации данных или взаимодействия с ними. Directus включает в себя несколько готовых макетов с различными функциями и параметрами конфигурации:
- Таблица — работает с данными любого типа, отображая элементы в виде строк, а их поля — в виде столбцов.
- Карты — идеально подходят для отображения графических данных. В этом макете элементы отображаются в виде сетки из графических карт.
- Календарь — идеально подходит для «временных» данных, отсортированных по дате или времени.
- Карта — идеально подходит для «геопространственных» данных, отображаемых на карте мира.

![alt text](https://marketing.directus.app/assets/75900b67-a908-42fa-9bd3-de259c797cac.png)

В дополнение к этим базовым макетам пользовательские макеты позволяют создавать более персонализированные или уникальные способы представления данных в приложении, например, диаграммы Ганта, карты рассадки или электронные таблицы.

### [Назад к оглавлению](#back)


<a a name="collection_page"></a>
## Страница коллекции
На странице «Коллекция» отображаются все элементы коллекции, а также настраиваемые макеты для просмотра, визуализации и управления этими элементами.

> **Прежде чем вы начнете**
> 
> Чтобы использовать страницу «Коллекции», вам нужно знать о [коллекциях](#collections), [элементах](#elements) и [полях](#fields).

### Переключение скрытых коллекций

В некоторых проектах могут быть десятки или даже сотни коллекций, и разобраться в них может быть непросто. Чтобы упростить эту задачу, администраторы могут скрыть [коллекции по умолчанию](https://docs.directus.io/app/data-model/collections.html#toggle-collection-visibility) на панели навигации. Затем пользователи могут показывать или скрывать скрытые коллекции по своему усмотрению. Чтобы изменить видимость коллекции, выполните следующие действия: 
1. Перейдите к модулю содержимого.
2. Щелкните правой кнопкой мыши на панели навигации.
3. Нажмите Показать / Скрыть скрытые коллекции, чтобы переключить видимость.

> СОВЕТ
> 
> Эта функция носит чисто эстетический характер и предназначена для визуальной очистки панели навигации. Для администраторов, которые хотят заблокировать доступ пользователей, см. [«Пользователи, роли и разрешения»](https://docs.directus.io/user-guide/user-management/users-roles-permissions.html).

### Настройка макета страницы
[ ... ]
---

### [Назад к оглавлению](#back)


<a a name="3_field_create"></a>
## 3. Создайте поле

После создания вашей первой коллекции пришло время добавить несколько [полей](#fields).

1. Перейдите в **Модуль настроек (Settings)**> **Модель данных (Data model)**> `Collection-Name`.
2. Нажмите кнопку **«Создать поле» (Create field)** и выберите тип поля **«Ввод» (Input)**.
3. Введите название поля в поле **«Ключ» (Key)**. Мы назовем наше поле `title`.  
Directus предлагает широкие возможности настройки полей, но пока давайте воспользуемся настройками по умолчанию.
1. Выберите **"Сохранить"**.  

### [Назад к оглавлению](#back)


<a a name="4_el_create"></a>
## 4. Создайте элемент
Теперь, когда у нас есть коллекция с настроенным **полем**, пришло время добавить **элемент**.

1. Перейдите к **модулю содержимого (Content module)**.
2. Нажмите **значок с плюсом (add)** в заголовке страницы, чтобы открыть страницу элемента.
3. Заполните значения полей по желанию.
4. Нажмите **значок с галочкой (check)** в правом верхнем углу, чтобы сохранить ваш элемент.

### [Назад к оглавлению](#back)


<a a name="5_access_setup"></a>
## 5. Настройка ролей и разрешений

Directus поставляется с двумя встроенными ролями: **«Публичный»** и **«Администратор»**. 
- Роль **«Публичный»** определяет, какие данные будут возвращаться пользователям, не прошедшим аутентификацию. В роли «Публичный» все разрешения отключены, и ее можно перенастроить с помощью детального контроля, чтобы показывать только то, что вы хотите, чтобы видели пользователи, не прошедшие аутентификацию. 
- Роль **«Администратор»** имеет полные разрешения, и их нельзя изменить. 

Помимо этих встроенных ролей, можно создать любое количество новых ролей с полностью настраиваемыми, детализированными разрешениями.

По умолчанию контент, загруженный в Directus, считается **конфиденциальным**. Поэтому разрешения по умолчанию всегда устанавливаются на **«Нет доступа»** с возможностью полной настройки по желанию. 

Итак, чтобы **API** возвращало наши [элементы](#elements), давайте добавим некоторые разрешения на чтение. Для простоты мы сделаем это для **общедоступной** роли, а не создадим новую роль.

1. Перейдите в **Модуль настроек** > **Управление доступом** > **Общедоступный (Public)**.
2. Нажмите block под значком visibility нужной коллекции.
3. В нашем случае название коллекции — articles.
4. Нажмите «Полный доступ», чтобы предоставить общедоступной роли полные права на чтение элементов в этой коллекции.

> **Узнайте больше о ролях и разрешениях**
> 
> [Пользователи, роли и разрешения](https://docs.directus.io/user-guide/user-management/users-roles-permissions).

### [Назад к оглавлению](#back)


<a a name="6_api_connect"></a>
## 6. Подключение к API
Теперь, когда в вашем проекте есть контент, доступный для общественности, пришло время начать использовать его вне проекта! Доступ к данным можно получить несколькими способами, в том числе с помощью конечных точек REST и GraphQL API. В этом случае мы будем использовать /items/ конечную точку REST API для получения только что созданного элемента.

Откройте http://your-project-url.directus.app/items/articles в своем браузере.

*И вот оно! Только что созданный вами элемент статьи представлен в красивом формате JSON, готовом к использованию где угодно и когда угодно!*
```json
{
	"data": [
		{
			"id": 1,
			"title": "Hello World!"
		}
	]
}
```
*В этом примере мы отправили очень простой запрос на чтение с помощью API, но это ещё не всё! **API REST** и **GraphQL** предоставляют исчерпывающий набор конечных точек для модели данных, и каждое действие, которое вы можете выполнить в приложении, можно выполнить с помощью API. По сути, приложение — это просто графический интерфейс, работающий на базе API.*

> Узнайте больше об API
> 
> [Введение в API](https://docs.directus.io/reference/introduction)
> 
> [JavaScript SDK](https://docs.directus.io/guides/sdk/getting-started)